# نظام عيادة الأسنان المتكامل

## نظرة عامة
نظام إدارة شامل لعيادة الأسنان يخدم ثلاث فئات رئيسية: أطباء، استقبال، وإداريين، مع ربط كامل بين الملفات الطبية والمواعيد والعلاجات والمدفوعات.

## المميزات الرئيسية

### 1. إدارة المرضى
- تسجيل بيانات المرضى الكاملة
- التاريخ الطبي والحساسيات
- متابعة حالة كل مريض من الحجز حتى انتهاء العلاج
- عرض تفاصيل شاملة لكل مريض

### 2. نظام المواعيد
- حجز وجدولة المواعيد
- تتبع حالة الموعد (مجدول، مؤكد، جاري، مكتمل، ملغي)
- إشعارات تذكير بالمواعيد
- عرض المواعيد حسب الطبيب أو المريض

### 3. إدارة العلاجات
- تسجيل التشخيص والإجراءات
- تتبع حالة العلاج
- ربط العلاج بالموعد والمريض
- تسجيل استخدام الأدوية في العلاج

### 4. نظام المخزون والأدوية
- إدارة شاملة للأدوية والمستلزمات
- تتبع الكميات المتوفرة
- إشعارات تلقائية عند قرب نفاذ الكمية
- تحديد الحد الأدنى لكل صنف
- تسجيل تواريخ الانتهاء

### 5. إدارة الموردين
- تسجيل معلومات الموردين
- متابعة اشتراكات الموردين
- إشعارات قرب انتهاء الاشتراك
- شروط الدفع لكل مورد

### 6. نظام المدفوعات
- تسجيل المدفوعات مرتبطة بالعلاجات والمرضى
- عرض تلقائي للعلاجات المكتملة بانتظار الدفع
- ملء تلقائي لبيانات الدفعة من العلاج (المريض، المبلغ، التفاصيل)
- إحصائيات مالية شاملة
- تتبع المدفوعات المعلقة والمكتملة
- طباعة إيصالات الدفع

### 7. نظام الإشعارات
- إشعارات نفاذ المخزون
- تذكير بمواعيد المرضى
- إشعارات انتهاء اشتراكات الموردين
- إشعارات الدفعات المستحقة

## البنية التقنية

### Backend
- **Framework**: Express.js
- **قاعدة البيانات**: SQLite (better-sqlite3)
- **المصادقة**: JWT (JSON Web Tokens)
- **تشفير كلمات المرور**: bcryptjs
- **Port**: 3000 (localhost)

### Frontend
- **Framework**: React
- **Build Tool**: Vite
- **Routing**: React Router
- **Styling**: Inline CSS (Component-based)
- **Port**: 5000 (0.0.0.0)

## الأدوار والصلاحيات

### 1. الاستقبال (Reception)
**الصلاحيات:**
- فتح ملف مريض (إنشاء/تعديل/عرض)
- تحديد ومتابعة المواعيد
- متابعة مواعيد المرضى والأطباء
- مراجعة المخزن والعلاجات والأدوية (قراءة فقط)
- مراجعة الموردين (إنشاء/تعديل/عرض)
- إدارة المدفوعات (إنشاء/تعديل/عرض)
- عرض الإشعارات

### 2. الطبيب (Doctor)
**الصلاحيات:**
- إرفاق التشخيص في ملف المريض
- عرض وإدارة المواعيد
- إنشاء وتعديل العلاجات
- التحكم في التسعيرة للعلاج
- معرفة كل محتويات المخزن من علاجات (قراءة فقط)
- متابعة حالة المريض
- عرض الإشعارات

### 3. الإداري (Admin)
**الصلاحيات:**
- كل صلاحيات العيادة
- القدرة الكاملة على التعديل والحذف والإضافة في كل أقسام النظام
- إدارة المرضى والمواعيد والعلاجات (CRUD كامل)
- إدارة المخزون والموردين (CRUD كامل)
- إدارة المدفوعات (CRUD كامل)
- عرض جميع الإحصائيات والإشعارات

## الحسابات التجريبية

```
استقبال: reception / password
  الصلاحيات: فتح ملف مريض - تحديد مواعيد - متابعة مواعيد المرضى والأطباء - مراجعة المخزن والعلاجات والأدوية - الموردون

طبيب: doctor / password
  الصلاحيات: إرفاق التشخيص - المواعيد - التحكم في التسعيرة - معرفة محتويات المخزن - متابعة حالة المريض

إداري: admin / password
  الصلاحيات: كل صلاحيات العيادة والتعديل والحذف والإضافة في جميع الأقسام
```

## هيكل المشروع

```
/
├── backend/
│   ├── src/
│   │   ├── controllers/     # معالجات الطلبات
│   │   ├── models/          # قاعدة البيانات
│   │   ├── routes/          # مسارات API
│   │   ├── middleware/      # المصادقة والتحقق
│   ├── server.js           # الخادم الرئيسي
│   ├── seed.js             # البيانات التجريبية
│   └── clinic.db           # قاعدة البيانات
├── frontend/
│   ├── src/
│   │   ├── components/     # المكونات الرئيسية
│   │   ├── pages/          # الصفحات
│   │   ├── services/       # طبقة API
│   │   ├── contexts/       # السياقات
│   │   ├── main.jsx        # نقطة الدخول
│   │   └── App.jsx         # المكون الرئيسي
│   ├── index.html
│   └── public/
├── vite.config.js
└── package.json
```

## الأوامر المتاحة

```bash
npm run seed      # إنشاء بيانات تجريبية
npm run backend   # تشغيل Backend فقط
npm run frontend  # تشغيل Frontend فقط
npm run dev       # تشغيل Backend و Frontend معاً
```

## التطويرات المستقبلية المقترحة
- إضافة نظام التقارير والإحصائيات المتقدمة
- دعم الملفات المرفقة (صور الأشعة، الوثائق)
- نظام المراسلات بين الطبيب والمريض
- تكامل مع أنظمة التأمين الطبي
- تطبيق موبايل للمرضى
- نظام النسخ الاحتياطي التلقائي

## ملاحظات
- قاعدة البيانات SQLite مناسبة للتطوير والاستخدام الصغير
- للاستخدام الكبير يفضل الانتقال لـ PostgreSQL أو MySQL
- تأكد من تغيير JWT_SECRET في الإنتاج
- النظام يدعم اللغة العربية بالكامل
